# Price Tracker Bot

## Описание
Price Tracker Bot — это Telegram-бот, созданный для отслеживания цен на товары с маркетплейса Ozon. Основная цель бота — предоставить пользователям информацию об изменениях цен на выбранные товары и помочь отслеживать динамику цен в удобной форме.

## Основной функционал
- **Добавление товаров**: Возможность добавить товар для отслеживания цен.
- **Просмотр истории цен**: Вывод информации об изменении цены на выбранный товар.
- **Список отслеживаемых товаров**: Отображение текущих товаров с их актуальными ценами.
- **Удаление товаров**: Удаление товара из списка отслеживаемых.
- **Уведомления**: Оповещение пользователей об изменении цен на отслеживаемые товары.

## Структура проекта
```
price_tracker_bot/
├── config_data/
│   ├── __init__.py
│   ├── config.py
├── database/
│   ├── __init__.py
│   ├── methods.py
├── handlers/
│   ├── __init__.py
│   ├── user.py
├── services/
│   ├── __init__.py
│   ├── tracker.py
├── utils/
│   ├── __init__.py
│   ├── utils.py
├── venv/                # Виртуальное окружение
├── .env                 # Конфигурационный файл с переменными окружения
├── .env.example         # Пример конфигурационного файла
├── .gitignore           # Исключения для Git
├── database.db          # Файл базы данных SQLite
├── main.py              # Точка входа в приложение
├── README.md            # Текущий файл
├── requirements.txt     # Список зависимостей проекта
```

### Описание папок
- **config_data/**: Содержит конфигурационные файлы, такие как `config.py`, для загрузки параметров бота из `.env`.
- **database/**: Содержит методы для работы с базой данных SQLite.
- **handlers/**: Реализует обработку команд и взаимодействие с пользователями.
- **services/**: Логика, связанная с трекером цен.
- **utils/**: Вспомогательные функции и утилиты.

## Установка и запуск

### Предварительные требования
- Python 3.10+
- Установленный [pip](https://pip.pypa.io/en/stable/)
- Telegram-аккаунт и зарегистрированный бот (через [BotFather](https://core.telegram.org/bots#botfather))

### Установка
1. Клонируйте репозиторий:
   ```bash
   git clone <URL>
   cd price_tracker_bot
   ```

2. Создайте и активируйте виртуальное окружение:
   ```bash
   python -m venv venv
   source venv/bin/activate  # Для Linux/MacOS
   venv\Scripts\activate   # Для Windows
   ```

3. Установите зависимости:
   ```bash
   pip install -r requirements.txt
   ```

4. Создайте файл `.env` на основе `.env.example` и добавьте ваш токен бота:
   ```env
   BOT_TOKEN=<Ваш токен Telegram-бота>
   ```

5. Инициализируйте базу данных:
   ```bash
   python -c "import asyncio; from database.methods import init_db; asyncio.run(init_db())"
   ```

6. Запустите бота:
   ```bash
   python main.py
   ```

## Используемые технологии
- **Python**: Язык программирования проекта.
- **aiogram**: Библиотека для создания Telegram-ботов.
- **SQLite**: Легковесная база данных для хранения информации о пользователях и товарах.
- **Selenium**: Инструмент для парсинга данных о товарах с сайта Ozon.
- **dotenv**: Для управления переменными окружения.

## Основные файлы проекта
- **`main.py`**: Точка входа. Инициализирует бота, подключает хендлеры и запускает процесс обработки команд.
- **`config_data/config.py`**: Загружает параметры конфигурации, такие как токен бота и интервал обновления цен.
- **`database/methods.py`**: Реализует взаимодействие с базой данных (создание таблиц, добавление/удаление товаров и историю цен).
- **`handlers/user.py`**: Содержит обработчики пользовательских команд, таких как `/start`, `/add`, `/list`, `/history` и т.д.
- **`services/tracker.py`**: Реализует функционал проверки цен и обновления данных в базе.
